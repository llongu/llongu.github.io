<!DOCTYPE html> 
<html>
	<head>
		<meta charset="utf-8"/>
		<title></title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">		
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
	 <meta name="format-detection" content="telephone=no" />
	 <script type="text/javascript" src="js/flexible.js" ></script>
	<link rel="stylesheet" href="css/style.css" />
	<style type="text/css">
		*{
			margin: 0 auto;
		}
		body,html{
			height: 100%;
		}
		.wrap{
			height: 100%;
			background: #F2F2F2;
			display: none;
			background: url(img/game_bg.jpg) no-repeat;
			background-size: 100% 100%;
		}
		.goods{
			position: absolute;
			cursor: pointer;
		}
		.goods img{
			width: 120%;
			height: 120%;
		}
		.scoreMove{
			width: 1.573rem;
			height: 0.8rem;
			position: absolute;
			animation: score 1.3s ease-in-out ;
			-webkit-animation: score 1.3s ease-in-out ;
		}
		.scoreMove img{
			width: 1.573rem;
			height: 0.8rem;
		}
		
	</style>
	</head>
	<body>
		<div id="loading">加载中</div>
		<div class="wrap">
			<div class="score">分数：<span>0</span></div>
				
			
			
		</div>
	</body>
	<script type="text/javascript" src="js/jquery.min.js" ></script>
	<script type="text/javascript" src="js/main.js" ></script>
	<!--<script type="text/javascript" src="js/goods.js" ></script>-->
	
	<script type="text/javascript">
		var game=new game({
			"Data":"Source.json"
		});
		
//		//定时器，创建商品及分数标识,定时器开关
//		var timer,num=0,timerSwitch=true;
//		
//		var Begin={
//			//创建商品
//			creatGoods:function(){
//				 	num++;
//					var good=new goods();
////						console.log(good.image)
////						console.log(good.w)
////						console.log(good.h)
////						console.log(good.x)
////						console.log(good.y)
////						console.log(game.goodsArr)
//				
//				var Div=document.createElement("div");
//					Div.className="goods goods"+num;
//					Div.setAttribute("data-state",good.state);
//					Div.style.width=good.w/75+"rem";
//					Div.style.height=good.h/75+"rem";
//					Div.style.left=good.x+"px";
//					Div.style.top=good.y+"px";
//					
//					Div.innerHTML='<img src='+good.image.src+'/>';
//					$(".wrap").append(Div)
//					
//					//在此阶段禁止清除
//					if(game.score>=50 && game.score<=300){
//						
//						}else{
//							//定时清除
//							Begin.celar("goods",num);
//						}
//					
////					clearInterval(timer);
//					
//			},
//			//创建加减分数状态
//			creatScore:function(ScoreImg,place,width){
//					num++;
//				var Div=document.createElement("div");
//					Div.className="scoreMove scoreMove"+num;
//					Div.style.left=place.left+width+"px";
//					Div.style.top=place.top-10+"px";
//					//分数右边显示禁止超出屏幕  118（分数宽度）
//					if(parseInt(Div.style.left)+118>window.screen.width){
//						Div.style.left=window.screen.width-118+"px";
//					}
//					
//					Div.innerHTML='<img src='+ScoreImg+'/>';
//					$(".wrap").append(Div)
//					console.log(place.top)
//					
//					//做动画
//					$(".scoreMove"+num).animate({
//						"top":$(".scoreMove"+num).offset().top-50,
//						"opacity":"0"
//					},800,function(){
//						$(this).remove();
//					})
//					
//					//如果大于此阶段后重启定时器
//					if(game.score>300 && timerSwitch){
//						timerSwitch=false;
//						timer=setInterval(Begin.creatGoods,game.timerNum)
//					}
//					//定时清除
////					Begin.celar("scoreMove",num);
//				
//			},
//			//定时清除
//			celar:function(name,num){
//				setTimeout(function(){
//					$("."+name+num).remove();
//				},1300)
//			},
//			//点击监听
//			click:function(){
//				//监听点击
//				$(document).on("click",".goods",function(){
//						//传入this+自身位置+自身宽度
//						Begin.state($(this),$(this).offset(),$(this).width());	
//				})
//			},
//			//状态判断
//			state:function(This,place,width){
//				//获取状态
//				var state=This.attr("data-state")
//				//加减分数				
//				var ScoreImg=null;
//				switch (state){
//					case "+10":
//						game.score+=10;
//						ScoreImg=game.R.score10.src;
//						break;
//					case "+20": 
//						ScoreImg=game.R.score20.src;
//						game.score+=20;
//						break;
//					case "-5":
//						game.score-=5;
//						ScoreImg=game.R.score5.src;
//						break;
//				}
//				
//				//显示分数
//				$(".score span").html(game.score);
//				
//				//加减分数状态展示
//				if(This.html().indexOf("scoreMove")==-1){
//					Begin.creatScore(ScoreImg,place,width); 
//				}
//				
//				//在此阶段 展示相同位置的图片
//				if(game.score>=50 && game.score<=300){
//						//立即清除及创建
//						This.remove();
//						clearInterval(timer);
//						Begin.creatGoods(); 
//				}else{
//						//淡出
//						This.fadeOut(500);
//				}
//				
//				
//				//定时器速度递增
////				game.timerNum-=5;
////				if(game.timerNum<=200){game.timerNum=200;}
////				//重置定时器
////				clearInterval(timer);
////				timer=setInterval(Begin.creatGoods,game.timerNum)
//				
//			}
//			
//		}
//			
//			//开始游戏
//			game.loadAllResource(function(){
//				console.log(game.R)
//				$("#loading").hide()
//				$(".wrap").show();
//				//定时创建
//				timer=setInterval(Begin.creatGoods,game.timerNum)
//				//点击监听
//				Begin.click();	
//			})
//			
			
	</script>
</html>

