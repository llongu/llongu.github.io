!function(e){var t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=5)}([function(e,t){var s;(s=window.Smove=function(e){this.move=game.R.move;var t=[750,850,950][parseInt(3*Math.random())];this.w=game.canvas.width*this.move.width/t,this.h=game.canvas.width*this.move.height/t,this.x=Math.random()*game.canvas.width,this.y=-(Math.random()*game.canvas.height-this.h),this.speed=.5*Math.random()+.5,this.Rotate=0,game.snowArr.push(this)}).prototype.Updata=function(){this.y+=this.speed,this.Rotate+=.3,this.y>game.canvas.height&&(this.x=Math.random()*game.canvas.width-this.w,this.y=-(Math.random()*game.canvas.height-this.h),this.speed=.5*Math.random()+.5),360==this.Rotate&&(this.Rotate=0)},s.prototype.Render=function(){game.ctx.save(),game.ctx.translate(this.w/2+this.x,this.h/2+this.y),game.ctx.rotate(this.Rotate*Math.PI/180),game.ctx.translate(-this.w/2-this.x,-this.h/2-this.y),game.ctx.drawImage(this.move,this.x,this.y,this.w,this.h),game.ctx.restore()},s.prototype.Impact=function(){}},function(e,t){var s;(s=window.snowBG=function(e){this.SnowB=game.R.snow_bottom,this.snowbg1=game.R.snowbg1,this.snowbg2=game.R.snowbg2,this.w=game.canvas.width,this.h=game.canvas.height,this.SnowBw=game.canvas.width*this.SnowB.width/750+30,this.SnowBh=this.SnowB.height,this.SnowBx=-15,this.SnowBy=this.h-this.SnowBh+this.SnowBh/1.7,this.snowbg1w=this.w,this.snowbg1h=this.h,this.snowbg1x=0,this.snowbg1y=0,this.snowbg2w=this.w,this.snowbg2h=this.h,this.snowbg2x=0,this.snowbg2y=-this.h}).prototype.Updata=function(){this.snowbg1y+=.3,this.snowbg2y+=.3,this.snowbg1y>this.h&&(this.snowbg1y=-this.h),this.snowbg2y>this.h&&(this.snowbg2y=-this.h),game.peopleFn.oneSpeed&&this.SnowBy-this.h<game.canvas.height&&this.SnowBy++},s.prototype.Render=function(){game.ctx.drawImage(this.snowbg1,this.snowbg1x,this.snowbg1y,this.snowbg1w,this.snowbg1h),game.ctx.drawImage(this.snowbg2,this.snowbg2x,this.snowbg2y,this.snowbg2w,this.snowbg2h),game.ctx.drawImage(this.SnowB,this.SnowBx,this.SnowBy,this.SnowBw,this.SnowBh)},s.prototype.Impact=function(){game.peopleFn.speed>0&&game.peopleFn.y+game.peopleFn.h>=this.SnowBy+20&&!game.peopleFn.oneSpeed&&game.peopleFn.Jump()}},function(e,t){var s;(s=window.ladder=function(e){this.image=game.R.ladder,this.w=game.canvas.width*this.image.width/750,this.h=game.canvas.width*this.image.height/750,this.x=Math.random()*(game.canvas.width-this.w),this.y=0,this.sign=!0,this.scoreTest=50,this.rankNum=0,this.rank=ranking,game.ladderArr.push(this)}).prototype.Updata=function(){},s.prototype.Render=function(){game.ctx.drawImage(this.image,this.x,this.y,this.w,this.h),game.ctx.fillStyle="#fff",game.ctx.textAlign="center",game.ctx.font="small-caps bold 16px Arial",game.ctx.fillText(this.rank[this.rankNum][0],this.x+this.w/2,this.y+this.h+18),game.ctx.font="small-caps bold 14px Arial",game.ctx.fillText(this.rank[this.rankNum][1],this.x+this.w/2,this.y+this.h+35)},s.prototype.Impact=function(){game.peopleFn.speed>0&&game.peopleFn.x+(game.peopleFn.w/2-game.peopleFn.footerW/2)<this.x+this.w&&game.peopleFn.x+(game.peopleFn.w/2+game.peopleFn.footerW/2)>this.x&&game.peopleFn.y+game.peopleFn.h>=this.y+3&&game.peopleFn.y+game.peopleFn.h<this.y+this.h+10&&(goM.play(),game.peopleFn.oneSpeed=!0,game.peopleFn.speed<=5&&(game.peopleFn.speed2+=1),game.peopleFn.Jump(),this.sign&&(this.sign=!1,game.score+=game.scoreTimes,game.scoreHtml.innerHTML=game.score))},s.prototype.Score=function(){game.score<3201?game.score>=2901&&game.score<=3200?this.rankNum=19:game.score>=2601&&game.score<=2900?this.rankNum=18:game.score>=2301&&game.score<=2600?this.rankNum=17:game.score>=2001&&game.score<=2300?this.rankNum=16:game.score>=1701&&game.score<=2e3?this.rankNum=15:game.score>=1401&&game.score<=1700?this.rankNum=14:game.score>=1251&&game.score<=1400?this.rankNum=13:game.score>=1101&&game.score<=1250?this.rankNum=12:game.score>=951&&game.score<=1100?this.rankNum=11:game.score>=801&&game.score<=950?this.rankNum=10:game.score>=651&&game.score<=800?this.rankNum=9:game.score>=501&&game.score<=650?this.rankNum=8:game.score>=351&&game.score<=500?this.rankNum=7:game.score>=301&&game.score<=350?this.rankNum=6:game.score>=251&&game.score<=300?this.rankNum=5:game.score>=201&&game.score<=250?this.rankNum=4:game.score>=151&&game.score<=200?this.rankNum=3:game.score>=101&&game.score<=150?this.rankNum=2:game.score>=51&&game.score<=100?this.rankNum=1:this.rankNum=0:this.rankNum=this.rank.length-1}},function(e,t){var s;(s=window.people=function(){this.image=game.R.people,this.image2=game.R.people2,this.w=game.canvas.width*this.image.width/750,this.h=game.canvas.width*this.image.height/750,this.footerW=82*game.canvas.width/750,this.x=30,this.y=game.canvas.height/2-this.h/2,this.speed=10,this.speed2=0,this.gravity=.4,this.oneSpeed=!1,this.Math=Math.ceil((game.canvas.height/2.5-this.h/2)/20)+2.5,UseFn.is_IPad()&&(this.Math+=2)}).prototype.Updata=function(){var e=this;this.y>=game.canvas.height/2.5-this.h/2?(this.y+=this.speed,this.speed+=this.gravity):(game.ladderArr.forEach(function(t,s){game.peopleFn.speed<0&&e.oneSpeed&&(t.y-=game.peopleFn.speed),t.y>game.canvas.height&&(game.ladderArr[s].sign=!0,game.ladderArr[s].x=Math.random()*(game.canvas.width-game.ladderArr[s].w),game.ladderArr[s].Score(),game.ladderArr[s].y=t.y-game.canvas.height)}),this.speed+=this.gravity,this.speed>=0&&(this.y+=this.speed,this.speed+=this.gravity))},s.prototype.Render=function(){this.speed>=0?game.ctx.drawImage(this.image,this.x,this.y,this.w,this.h):game.ctx.drawImage(this.image2,this.x,this.y,this.w,this.h)},s.prototype.Impact=function(){this.y>game.canvas.height&&game.GameOver(),this.x>game.canvas.width?this.x=0-this.w:this.x<0-this.w&&(this.x=game.canvas.width)},s.prototype.Sensor=function(){var e=this;this.DeviceOrientationHandler=function(t){var s=t.accelerationIncludingGravity;UseFn.is_IOS()?e.x+=s.x+.4:e.x-=s.x+.4},window&&window.DeviceOrientationEvent?window.addEventListener("devicemotion",e.DeviceOrientationHandler,!1):alert("你的手机不支持DeviceOrientationEvent！无法正常体验该游戏")},s.prototype.Jump=function(){game.score>2e3?(game.scoreTimes=50,this.speed=-3*this.Math-this.speed2,this.gravity=.7):game.score>1200?(game.scoreTimes=40,this.speed=-(2*this.Math+this.Math/2)-this.speed2,this.gravity=.6):game.score>600?(game.scoreTimes=30,this.speed=-2*this.Math-this.speed2,this.gravity=.5):game.score>200?(game.scoreTimes=20,this.speed=-(this.Math+this.Math/2)-this.speed2,this.gravity=.4):(game.scoreTimes=10,this.speed=-this.Math,this.gravity=.3),UseFn.is_IPad()&&(this.gravity+=.2)}},function(e,t){var s;(s=window.game=function(e){this.canvas=document.getElementById(e.id),this.scoreHtml=document.getElementById(e.scoreId),this.canvas.width=$(".wrap").width(),this.canvas.height=$(".wrap").height(),this.ctx=this.canvas.getContext("2d"),this.Data=e.Data,this.imgNum=0,this.score=0,this.scoreTimes=1,this.ladderSpace=0,this.ladderArr=[],this.snowArr=[],this.R={};var t=this;this.loadAllResource(function(){UseFn.init(),t.Rest()})}).prototype.loadAllResource=function(e){var t=this;t.imgNum=0;var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)for(var i=JSON.parse(s.responseText),a=Math.ceil(100/i.images.length),h=0,n=0;n<i.images.length;n++)t.R[i.images[n].name]=new Image,t.R[i.images[n].name].src=i.images[n].url,t.R[i.images[n].name].state=i.images[n].state,t.R[i.images[n].name].onload=function(){t.imgNum++,(h=t.imgNum*a)>=100&&(h=100),$("#loadingLine").css("width",h+"%"),t.imgNum==i.images.length&&e()}},s.open("get",this.Data,!0),s.send(null)},s.prototype.Render=function(){},s.prototype.RenderFn=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ladderArr.forEach(function(e,t){e.Render(),e.Impact()}),this.snowArr.forEach(function(e,t){e.Updata(),e.Render()}),this.snowBG.Updata(),this.snowBG.Render(),this.snowBG.Impact(),this.peopleFn.Updata(),this.peopleFn.Impact(),this.peopleFn.Render()},s.prototype.Rest=function(e){var t=this;this.score=0,this.scoreTimes=1,this.scoreHtml.innerHTML=0,this.ladderSpace=0,this.ladderArr=[],this.snowArr=[],this.peopleFn=new people,this.peopleFn.Sensor(),this.snowBG=new snowBG;for(var s=0;s<4;s++)new Smove;for(s=0;s<3;s++){var i=new ladder;i.Updata(),i.Render(),this.ladderSpace+=this.canvas.height/3,i.y=this.ladderSpace,1==s&&(i.x=this.peopleFn.x+this.peopleFn.w+Math.random()*(this.canvas.width-(this.peopleFn.x+this.peopleFn.w)-i.w),i.Render())}this.Render=function(){t.RenderFn()}},s.prototype.Start=function(){$(".snow").remove(),this.Render(),requestAnimFrame(this.Start.bind(this))},s.prototype.ClickS=function(){this.thisFN=this.peopleFn.Jump.bind(this.peopleFn),this.canvas.addEventListener("touchstart",this.thisFN,!1)},s.prototype.GameOver=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.Render=function(){},UseFn.game_over(),this.canvas.removeEventListener("touchstart",this.thisFN,!1)}},function(e,t,s){"use strict";s.r(t);s(4),s(3),s(2),s(1),s(0)}]);